<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Election System - Host Page</title>
  </head>

<script language="JavaScript" type="text/javascript" src="jsbn/jsbn.js"></script>
<script language="JavaScript" type="text/javascript" src="jsbn/jsbn2.js"></script>
<script language="JavaScript" type="text/javascript" src="jsbn/prng4.js"></script>
<script language="JavaScript" type="text/javascript" src="jsbn/rng.js"></script>
<script language="JavaScript" type="text/javascript" src="jsbn/rsa.js"></script>
<script language="JavaScript" type="text/javascript" src="jsbn/rsa2.js"></script>
<script language="JavaScript" type="text/javascript" src="base.js"></script>
<script language="JavaScript" type="text/javascript" src="private.js"></script>

<body>
    <h1> Steps </h1>
    <ol>
	<li>
	    Generate keys <button onclick="generateKeys()"> Generate</button> 
	    <div style="color:purple"> Make sure to generate new keys in everyone's presence.</div>
	    <div style="color:purple"> After the election starts, the host should be sharing his/her screen till the end. If due to any discontinuity in internet or other events, the host goes offline, the election has to be repeated. </div> 
	</li>
	<li> Input candidate list </li>
	<li> Select number of candidates to select (for 4th year only) </li>
	<li> Distribute public key and candidate list </li>
	<li> 
	    Collect tokens 
	    <div style="color:purple"> Be careful to copy and paste tokens correctly</div>
	</li>
	<li> Count votes </li>
	<li style="color:purple"> IMPORTANT: Close this tab after the election, otherwise the host can later figureout who voted whom.</li>
    </ol>

    <div id="s1-public-key">
	<hr>
	<h2> Public key </h2>
	<div id="public-key"> </div> 
    </div>

    <div id="s2-candidate-list">
	<hr>
	<h2> Candidates </h2>
	<div id="candidates0"> </div> <br/>
	<input type="text" id="candidate-name-0" /> <button onclick="addCandidate(0)"> Add </button>
	<br> Fourth year election? (implies voters can select two candidates) : <input type="checkbox" onclick="clearLink(); fourthYearChoice(this)">
    </div>

    <div id="s3-link">
	<hr>
	<h2> Public Link </h2>
	<button onclick="generateLink()"> Generate Public Link </button>
	<div id="public-link"></div>
	<div id="public-link-clipboard-status"></div>
    </div>

    <div id="s4-tokens">
	<hr>
	<h2> Tokens </h2>
	<div id="tokens-list">
	</div>
	RollNumber: <input type="text" id="roll-number"> </input> <br>
	Token: <input type="text" id="token" onkeyup="checkTokenInput()" onchange="checkTokenInput()"> </input> <br>
	<button onclick="addToken()"> Add </button>
    </div>


    <div id="s5-count-votes">
	<hr>
	<h2> Voting Table </h2>
	<button onclick="countVotes()"> Count Votes </button>
	<div id="votes-table"></div>
    </div>

    <div id="s6-coinflip">
	<hr>
	<button onclick="flipCoin()">Flip a coin</button> </br>
	Result: <span id="coinflip-result"></span>
    </div>
    <div id="s7-final-message">
    </div>
    <hr>
    <div id="note"> Developer: Bibek Panthi. (View the source code and technical details at <a href="https://github.com/bpanthi977/election-system"> https://github.com/bpanthi977/election-system </a>)  </div>
</body>
</html>
    
